# LangChain

### 概念

`LangChain`是一个框架，支持python和TypeScript两种语言。`LangChain Python`提供了庞大的生态系统，包含了1000个多集成组件。涵盖了下面几个核心组件：

- Agents：智能体是将语言模型与工具结合而构建的系统，能够对任务进行推理，决定使用哪些工具，并迭代地朝着解决方案推荐。

- Models：

- Messages（prompt）

- Tools

- Memory

- Streaming

# Agents

用户输入的内容给到Agent，Agent判断调用什么工具，结合工具+LLM返回给用户。

### ReAct模式

ReAct是一种智能体工作模式：

> 思考（Thought） → 行动（Action） → 观察（Observation）

- 模型首先输出其推理过程（思考）

- 然后选择并调用一个工具（行动）

- 接着接收工具返回的结果（观察）

- 并基于此更新计划，重复上述过程

这种模式能有效减少幻觉，并使决策过程可审计。智能体会形成假设（思考），通过工具验证（行动），再根据反馈调整策略（观察）。ReAct 循环将持续运行，直到满足停止条件——例如模型输出最终答案，或达到最大迭代次数限制。

### 使用Model

模型是智能体的推理引擎。他可以通过多种方式指定，支持静态和动态模型选择。

##### 1、静态模型

**通过模型标识符字符串初始化：**

```python
from langchain.agents import create_agent

agent = create_agent("openai:gpt-5", tools=tools)
# 模型标识符格式为 provider:model（如 "openai:gpt-5"）
# 支持自动推断（如 "gpt-5" 会被推断为 "openai:gpt-5"）
```

**通过模型实例进行精细控制：**

```python
from langchain.agents import create_agent
from langchain_openai import ChatOpenAI

model = ChatOpenAI(
    model="gpt-5",
    temperature=0.1,
    max_tokens=1000,
    timeout=30
)
agent = create_agent(model, tools=tools)
```

##### 2、动态模型

动态模型在运行时根据当前状态和上下文进行选择，适用于复杂的路由逻辑和成本优化。

你需要提供一个函数，该函数接收图状态（state）和运行时（runtime），并返回一个绑定了工具的 `BaseChatModel` 实例：

```python

```


