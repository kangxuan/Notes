# Cursor Rules

Cursor Rules帮助你定制 AI 行为，让它符合你的编码风格和项目需求。  

### 1、全局规则

全局规则适用于所有项目，在"设置"=>"Rules & Memories"=>"User Rules"添加。

```context
Always respond in 中文
请记住，代码是写给人看的，只是机器恰好可以运行
遵循代码整洁之道
```

### 2、项目规则

项目规则是针对某一个项目所设置的规则，在“设置”=>"Rules & Memories"=>"Project Rules"进行设置。项目规则优先级高于全局规则：如果项目中存在`.cursorrules`文件，则项目规则会覆盖全局规则。

```markdown
---
description: "PHP项目的命名规范和代码风格"
globs:
alwaysApply: true
---

# 命名规范

## 核心原则

【必须】遵循：名称清晰表达意图，避免歧义，保持一致风格

## 文件命名

- 目录：小写，分隔符使用短横线，比如：`components/user-profile/`
- 控制器：大驼峰，必须以Controller结尾，比如：`UserController`
- 业务类：大驼峰，必须以Service结尾，比如：`UserService`
- 模型：大驼峰，必须以Model结尾，比如`UserModel`
- 工厂类：大驼峰，必须以Factory结尾，比如`OrderFactory`
- 配置文件：小写，比如`routes`
- 常量文件：大驼峰，必须以Constant结尾，比如`UserConstant`

## 变量命名

| 类型 | 风格 | 位置 | 示例 |
|------|------|------|------|
| 局部变量 | 小驼峰 | 尽量在函数开头 | `$userName` |
| 数组变量 | 小驼峰 | 尽量在函数开头 | `$userIds` |
| 常量 | ⼤写，以下划线分隔每个单词，分段定义，等号对⻬ | 相关常量定义通过**Constant.php⽂件管理 | `API_BASE_URL` |

# 类命名

【必须】使用名词，高度总结，大驼峰

```php
class UserService {

}
# 函数命名

【必须】动词开头，描述行为，小驼峰

```php
// 正确 - CURD操作
public function getUsers(array $param) : array {}
public function createUser(array $param) {}
public function updateUser(array $param) {}
public function deleteUser(int $id) {}

// 正确 - 业务方法
public function login() : array() {}
public function sendMsg() : bool {}

// 错误
function userList() : array {} // 应该使用 getUserList
function send() {} // 应该使用 submitMessage
```

# 函数参数

【必须】小驼峰，必须声明类型，参数最多不能超过3个，超过3个请⽤数组替代。

```php
// 正确
public function checkJson(string $str) : bool {}

// 错误
public function checkJson($str) : bool {}
public function loginUser($name, $pass, $code, $rand) {}
```

# 代码⻛格

- 类和函数的⼤括号必须单独⼀列
- 代码缩进，必须是4个空格（TAB）
- elseif必须连着写
- 每个case块结束处必须加上break，break必须单独⼀⾏，且default必须存在。
- 不要采⽤缺省⽅法测试⾮零值，必须显式测试。建议做严格校验。
- 每⼀个类⽂件<?php后的第⼀⾏必须加上declare(strict_types = 1)，1表示严格
  类型校验模式，作⽤于函数调⽤和返回语句；0表示弱类型校验模式。
  【必须】保持团队一致：适合针对特定项目的个性化需求，例如特定技术栈、文件结构或安全要求。
  
  ```
  
  ```

# ### 3、规则优先级

项目规则的优先级高于全局规则，如果项目规则中的某一条和全局规则中的某一条发生冲突，那么就以项目规则为准。

**全局规则：** 适合设置通用的编码规范、安全策略或个人偏好，确保所有项目保持一致。

**项目规则：** 适合针对特定项目的个性化需求，例如特定技术栈、文件结构或安全要求等。
