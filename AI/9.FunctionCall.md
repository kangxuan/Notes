# Function Calling原理

### Function Calling是什么？

`Function Calling`，顾名思义：函数调用，是大语言模型与外部工具或系统进行交互的机制。它允许模型生成回答时，主动识别用户意图来调用某个特定的功能（比如天气调用等），得到Function结果后交给LLM，最终由模型整合成自然语言回复用户。

初期LLM并不具备`Function Calling`的能力，随着不断发展和训练，现在基本上都已经具备了`Function Calling`的能力了。

### Function Calling的核心目标和流程

让大模型知道在什么时候该调用什么工具，从而突破其自身的知识和能力的边界。

> 举例：
> 
> 用户：”明天应该穿什么衣服？”
> 
> 模型要推荐明天穿什么衣服，首先要知道明天的天气，所以要先调用“天气查询”这个外部的Function，得到明天的天气后，再由LLM生成推荐内容返回给用户。

### Function Calling的核心作用

##### 1、拓展模型能力

大模型本身不能直接调用和操作外部系统（比如说数据库、计算工具等），但可以通过预设函数可以完成这些外部系统。比如：

- 实时数据获取（天气、新闻等，函数中调用api实现）

- 复杂计算（复杂的数学计算、代码执行等）

- 操作外部系统（发送邮件、回调接口等）

##### 2、提参

大模型可以理解用户提问，并知道调用什么函数来实现，从而提取函数需要的参数并传递给函数。

##### 3、动态决策

模型可根据上下文决定是否/何时调用函数，甚至链式调用多个函数（比如说先查时间、再查天气、再推荐穿衣）。

# Qwen Agent

Qwen-Agent是一个开发框架，开发者可基于本框架开发Agent应用，充分利用基于通义千问模型（Qwen）的指令遵循、工具使用、规划、记忆能力。

Qwen-Agent其实和LangChain一样，都是AI开发框架，但Qwen-Agent目前更加轻量。

https://github.com/QwenLM/Qwen-Agent

### 安装

```shell
pip install -U "qwen-agent[gui,rag,code_interpreter,mcp]"
```


