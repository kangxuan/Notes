# åŒ…ç®¡ç†å·¥å…·

### 1. npm

node project managerï¼Œé¡¾åæ€ä¹‰nodeé¡¹ç›®ç®¡ç†å·¥å…·ã€‚

**å®‰è£…npm**

å®‰è£…å¥½node.jsæ—¶ä¼šè‡ªåŠ¨å®‰è£…å¥½npmã€‚

```shell
# æŸ¥çœ‹npmçš„ç‰ˆæœ¬
~ npm -v
9.6.7
```

**åˆå§‹åŒ–**

```shell
âœ  01_npm npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help init` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (01_npm) test
version: (1.0.0) 1.0.0
description: è¿™æ˜¯ç¬¬ä¸€ä¸ªæµ‹è¯•
entry point: (index.js) 
test command: 
git repository: 
keywords: 
author: 
license: (ISC) 
About to write to /Users/kx/Desktop/å‰ç«¯ä»£ç /node/06_åŒ…ç®¡ç†å·¥å…·/01_npm/package.json:

{
  "name": "test", # åŒ…åï¼Œä¸èƒ½æ˜¯å¤§å†™å’Œä¸­æ–‡
  "version": "1.0.0", # ç‰ˆæœ¬å·
  "description": "è¿™æ˜¯ç¬¬ä¸€ä¸ªæµ‹è¯•", # æè¿°
  "main": "index.js", # å…¥å£
  "scripts": { # è„šæœ¬
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "", # ä½œè€…
  "license": "ISC" # å¼€æºè¯ä¹¦
}


Is this OK? (yes) yes
```

å¿«é€Ÿåˆ›å»ºé»˜è®¤çš„package.json

```shell
âœ  01_npm npm init -y
```

**æœç´¢åŒ…**

ç½‘å€ï¼šhttps://www.npmjs.com/

```shell
# é€šè¿‡å‘½åçš„æ–¹å¼æœç´¢
âœ  01_npm npm search math
```

**å®‰è£…åŒ…**

```shell
# npm i åŒ…å æˆ– npm install åŒ…å
âœ  npm i uniq

# å®‰è£…ç”Ÿäº§ä¾èµ– -Sï¼Œé»˜è®¤
npm i -S jquery
# å®‰è£…å¼€å‘ä¾èµ– -D
npm i -D less

# å…¨å±€å®‰è£… -g 
# nodemonå¯ä»¥ç›‘å¬ä¿®æ”¹ï¼Œä¸ç”¨é‡å¯æœåŠ¡
npm i -g nodemon

nodemon xxx.js

# å®‰è£…æŒ‡å®šç‰ˆæœ¬
npm i juquey@1.11.2
```

**å®‰è£…åŒ…ä¾èµ–**

```shell
# å› ä¸ºnode_moduleså¤§å¤šæ•°æ–‡ä»¶ä¸ä¼šåŠ å…¥åˆ°ç‰ˆæœ¬åº“ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ‰‹åŠ¨å®‰è£…åŒ…ä¾èµ–

npm i
```

**åˆ é™¤åŒ…**

```shell
# åˆ é™¤å±€éƒ¨åŒ… ræˆ–remove
npm r uniq
# åˆ é™¤å…¨å±€åŒ…
npm r -g nodemon
```

**é…ç½®å‘½ä»¤åˆ«å**

åœ¨package.jsonä¸­é…ç½®

```json
"scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node ./index.js",
    "server": "node ./server.js"
  },
```

å¦‚ä½•è¿è¡Œå‘½ä»¤åˆ«å

```shell
# åªæœ‰startå¯ä»¥ç›´æ¥ç®€å†™ npm start
npm run start
npm run test
npm run server
```

### 2. cnpm

ä¸æ¨èä½¿ç”¨

**ä»‹ç»**

cnpmæ˜¯æ·˜å®æçš„npmçš„å›½å†…é•œåƒï¼Œ[å®˜ç½‘](https://npmmirror.com/)

**å®‰è£…cnpm**

é€šè¿‡npmå®‰è£…cnpm

```shell
npm install -g cnpm --registry=https://registry.npmmirror.com
```

**ä½¿ç”¨**

cnpmå’Œnpmä½¿ç”¨ä¸€æ ·ï¼Œåªæ˜¯å°†npmæ›¿æ¢æˆcnpmã€‚

### 3. npmé…ç½®æ·˜å®é•œåƒ

æ¨èä½¿ç”¨

**é‡‡ç”¨å‘½ä»¤é…ç½®æ·˜å®é•œåƒ**

ä¸æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºéœ€è¦è®°å¿†ç½‘å€å’Œå‘½ä»¤

```shell
# éœ€è¦è®°å¿†
npm config set registry https://registry.npmmirror.com/
```

**ä½¿ç”¨ç®¡ç†å·¥å…·é…ç½®æ·˜å®é•œåƒ**

æ¨èä½¿ç”¨

```shell
# å®‰è£…nrmï¼Œä¹Ÿå°±æ˜¯npm registry manager
npm i -g nrm

# è®¾ç½®æ·˜å®é•œåƒ
nrm use taobao

# å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤æ£€æŸ¥registryæ˜¯å¦ä¿®æ”¹æˆåŠŸ
npm config list
```

é…ç½®å¥½å›½å†…é•œåƒåä½¿ç”¨npmå®‰è£…ä¼šæ›´å¿«ã€‚

### 4. npmå‘å¸ƒç®¡ç†åŒ…

**å‘å¸ƒåŒ…æ­¥éª¤**

1. åˆ›å»ºæ–‡ä»¶å¤¹

2. åˆå§‹åŒ–

```shell
âœ  01_npm cd ../../07_å‘å¸ƒä¸€ä¸ªåŒ… 
âœ  07_å‘å¸ƒä¸€ä¸ªåŒ… npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help init` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (07_å‘å¸ƒä¸€ä¸ªåŒ…) shanla_math
version: (1.0.0) 
description: 
entry point: (index.js) 
test command: 
git repository: 
keywords: 
author: 
license: (ISC) 
About to write to /Users/kx/Desktop/å‰ç«¯ä»£ç /node/07_å‘å¸ƒä¸€ä¸ªåŒ…/package.json:

{
  "name": "shanla_math",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC"
}


Is this OK? (yes) yes
```

3. åˆ›å»ºå…¥å£æ–‡ä»¶ï¼ˆindex.jsé»˜è®¤ï¼Œå’Œmainé…ç½®ä¿æŒä¸€è‡´å³å¯ï¼‰å¹¶æš´éœ²

```js
function add(a, b) {
    return a + b
}

module.exports = {
    add
}
```

4. æ³¨å†Œnpmè´¦å·å¹¶æ¿€æ´»ã€[æ³¨å†Œåœ°å€](https://www.npmjs.com/signup)ã€‘

5. ä¿®æ”¹ä½¿ç”¨å®˜æ–¹é•œåƒï¼Œå› ä¸ºä¸€èˆ¬å›½å†…éƒ½ä½¿ç”¨æ·˜å®é•œåƒ

```shell
âœ  07_å‘å¸ƒä¸€ä¸ªåŒ… nrm use npm
 SUCCESS  The registry has been changed to 'npm'.
```

6. å‘½ä»¤è¡Œç™»å½•npm

```shell
âœ  07_å‘å¸ƒä¸€ä¸ªåŒ… npm login
npm notice Log in on https://registry.npmjs.org/
Login at:
https://www.npmjs.com/login?next=/login/cli/9e1592de-5812-4fd0-bd6f-3715cd4c9806
Press ENTER to open in the browser...
# è¿™é‡Œä¼šæ‰“å¼€æµè§ˆå™¨å¹¶å‘é€ä¸€ä¸ªå¯†ç åˆ°é‚®ç®±
Logged in on https://registry.npmjs.org/.
```

7. æäº¤åŒ…

```shell
âœ  07_å‘å¸ƒä¸€ä¸ªåŒ… npm publish
npm notice 
npm notice ğŸ“¦  shanla_math@1.0.0
npm notice === Tarball Contents === 
npm notice 69B  index.js    
npm notice 207B package.json
npm notice === Tarball Details === 
npm notice name:          shanla_math                             
npm notice version:       1.0.0                                   
npm notice filename:      shanla_math-1.0.0.tgz                   
npm notice package size:  312 B                                   
npm notice unpacked size: 276 B                                   
npm notice shasum:        e28e6028a0e00e23bda7be211b4f58416c9a8262
npm notice integrity:     sha512-TTEwHuphHcBTo[...]glr/tMvA6OC1A==
npm notice total files:   2                                       
npm notice 
npm notice Publishing to https://registry.npmjs.org/ with tag latest and default access
```

**æ›´æ–°åŒ…**

1. ä¿®æ”¹ä»£ç å¹¶æ£€æŸ¥æ˜¯å¦å¯ç”¨

2. ä¿®æ”¹ç‰ˆæœ¬å·

3. æäº¤åŒ…

**åˆ é™¤åŒ…**

åˆ é™¤åŒ…åªä¼šåˆ é™¤å¯¹åº”çš„ç‰ˆæœ¬ï¼Œåˆ é™¤æ—¶è¦ç¼–è¾‘ç‰ˆæœ¬å·ã€‚

```shell
âœ  07_å‘å¸ƒä¸€ä¸ªåŒ… npm unpublish --force
npm WARN using --force Recommended protections disabled.
- shanla_math@1.0.1
```

# nodejsç‰ˆæœ¬ç®¡ç†å·¥å…·nvm
